import { Meteor } from 'meteor/meteor';
export const iframeEntrypointText = atob(`
Y29uc3Qgb3JpZ2luYWxGZXRjaD1nbG9iYWxUaGlzLmZldGNoO2NvbnN0IGZldGNoUHJvdG9jb2xzPW5ldyBNYXA7Z2xvYmFsVGhp
cy5mZXRjaD1hc3luYyhyZXEsb3B0cyk9Pntjb25zdCB1cmw9bmV3IFVSTChyZXEgaW5zdGFuY2VvZiBSZXF1ZXN0P3JlcS51cmw6
cmVxLnRvU3RyaW5nKCkpO2NvbnNvbGUuZGVidWcoImZldGNoIHRvIix1cmwucHJvdG9jb2wpO2NvbnN0IGhhbmRsZXI9ZmV0Y2hQ
cm90b2NvbHMuZ2V0KHVybC5wcm90b2NvbCl8fG9yaWdpbmFsRmV0Y2g7cmV0dXJuIGF3YWl0IGhhbmRsZXIocmVxLG9wdHMpfTtj
b25zdCBTZXNzaW9uSWQ9Y3J5cHRvLnJhbmRvbVVVSUQoKTtjbGFzcyBEaXN0QXBwe3N0YXRpYyBhc3luYyBjb25uZWN0KCl7Y29u
c3QgcG9ydD1hd2FpdCByZWNlaXZlTWVzc2FnZVBvcnQoKTtyZXR1cm4gbmV3IERpc3RBcHAocG9ydCl9aGFuZGxlTWVzc2FnZShl
dnQpe2NvbnN0IGVudGl0eT1ldnQuZGF0YTtpZihlbnRpdHkua2luZD09IkZldGNoUmVzcG9uc2UiKXtjb25zdCBwYWlyPXRoaXMu
cHJvbWlzZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIpe3RoaXMucHJvbWlzZXMuZGVsZXRlKGVudGl0eS5vcmlnSWQpO3Bh
aXJbMF0oZW50aXR5KTtyZXR1cm59fWlmKGVudGl0eS5raW5kPT0iRmV0Y2hFcnJvciIpe2NvbnN0IHBhaXIxPXRoaXMucHJvbWlz
ZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIxKXt0aGlzLnByb21pc2VzLmRlbGV0ZShlbnRpdHkub3JpZ0lkKTtwYWlyMVsx
XShuZXcgRXJyb3IoZW50aXR5LnNwZWMubWVzc2FnZSkpO3JldHVybn19Y29uc29sZS53YXJuKCJUT0RPOiBEaXN0QXBwIHJlY2Vp
dmVkOiIsZXZ0LmRhdGEpfWFzeW5jIGhhbmRsZUVycm9yKGVycil7Y29uc3R7bmFtZSxtZXNzYWdlLHN0YWNrfT1lcnI7dGhpcy5z
ZW5kUnBjKHtraW5kOiJXcml0ZURlYnVnRXZlbnQiLHNwZWM6e3RpbWVzdGFtcDpuZXcgRGF0ZSxsZXZlbDoiZXJyb3IiLHRleHQ6
YFVuY2F1Z2h0ICR7bmFtZX0gaW4gcGFnZWAsZXJyb3I6e25hbWUsbWVzc2FnZSxzdGFja319fSk7YXdhaXQgdGhpcy5mZXRjaCgi
L3N5c3RlbS1hcGkvdGVsZW1ldHJ5LnYxYWxwaGExLmRpc3QuYXBwL290bHAiLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJp
bmdpZnkoeyJyZXNvdXJjZUxvZ3MiOlt7InJlc291cmNlIjp7ImF0dHJpYnV0ZXMiOlt7ImtleSI6InNlcnZpY2UubmFtZSIsInZh
bHVlIjp7InN0cmluZ1ZhbHVlIjoiZGlzdC5hcHAtdXNlcmxhbmQifX0seyJrZXkiOiJzZXNzaW9uLmlkIiwidmFsdWUiOnsic3Ry
aW5nVmFsdWUiOlNlc3Npb25JZH19LF19LCJzY29wZUxvZ3MiOlt7InNjb3BlIjp7fSwibG9nUmVjb3JkcyI6W3sidGltZVVuaXhO
YW5vIjpgJHtEYXRlLm5vdygpfTAwMDAwMGAsInNldmVyaXR5TnVtYmVyIjo5LCJzZXZlcml0eVRleHQiOiJJbmZvIiwibmFtZSI6
IlVuY2F1Z2h0RXJyb3IiLCJib2R5Ijp7InN0cmluZ1ZhbHVlIjpgVW5jYXVnaHQgJHtuYW1lfSBpbiBwYWdlYCwiYXR0cmlidXRl
cyI6W3sia2V5IjoiZXJyb3IubWVzc2FnZSIsInZhbHVlIjp7InN0cmluZ1ZhbHVlIjplcnIubWVzc2FnZX19LHsia2V5IjoiZXJy
b3IubmFtZSIsInZhbHVlIjp7InN0cmluZ1ZhbHVlIjplcnIubmFtZX19LHsia2V5IjoiZXJyb3Iuc3RhY2siLCJ2YWx1ZSI6eyJz
dHJpbmdWYWx1ZSI6ZXJyLnN0YWNrfX0sXX19XX1dfV19KX0pfWFzeW5jIG1vdW50QXBpQmluZGluZyhhcGlCaW5kaW5nTmFtZSl7
Y29uc3QgdG9rZW5SZXNwPWF3YWl0IHRoaXMuZmV0Y2goYC9BcGlCaW5kaW5nLyR7YXBpQmluZGluZ05hbWV9L21vdW50YCx7bWV0
aG9kOiJQT1NUIn0pO2lmKHRva2VuUmVzcC5zdGF0dXM9PTQwMylyZXR1cm4gbnVsbDtpZighdG9rZW5SZXNwLm9rKXRocm93IG5l
dyBFcnJvcihgQXBpQmluZGluZyBNb3VudCBvZiAke0pTT04uc3RyaW5naWZ5KGFwaUJpbmRpbmdOYW1lKX0gbm90IE9LIGArYChI
VFRQICR7dG9rZW5SZXNwLnN0YXR1c30pCgpgK2BVcHN0cmVhbSByZXNwb25zZSBib2R5Ogoke2F3YWl0IHRva2VuUmVzcC50ZXh0
KCl9YCk7Y29uc3QgdG9rZW49YXdhaXQgdG9rZW5SZXNwLnRleHQoKTtjb25zb2xlLmxvZyh7dG9rZW59KTtyZXR1cm4gdG9rZW59
YXN5bmMgZmV0Y2gocmVxLG9wdHMpe2lmKHR5cGVvZiByZXE9PSJzdHJpbmciKXtyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVGZXRj
aCh7bWV0aG9kOm9wdHM/Lm1ldGhvZHx8IkdFVCIsdXJsOnJlcSxoZWFkZXJzOm5ldyBIZWFkZXJzKG9wdHM/LmhlYWRlcnMpLGJv
ZHk6b3B0cz8uYm9keSE9bnVsbD9hd2FpdCBuZXcgUmVzcG9uc2Uob3B0cy5ib2R5KS50ZXh0KCk6bnVsbH0pfWNvbnN0IHJlcXVl
c3Q9bmV3IFJlcXVlc3QocmVxLG9wdHMpO3JldHVybiBhd2FpdCB0aGlzLmhhbmRsZUZldGNoKHttZXRob2Q6cmVxdWVzdC5tZXRo
b2QsdXJsOnJlcXVlc3QudXJsLGhlYWRlcnM6cmVxdWVzdC5oZWFkZXJzLGJvZHk6YXdhaXQgcmVxdWVzdC50ZXh0KCl8fG51bGx9
KX1hc3luYyBoYW5kbGVGZXRjaChyZXF1ZXN0KXtjb25zdCByZXNwUGF5bG9hZD1hd2FpdCB0aGlzLnNlbmRScGNGb3JSZXN1bHQo
e2tpbmQ6IkZldGNoUmVxdWVzdCIsaWQ6LTEsc3BlYzp7dXJsOnJlcXVlc3QudXJsLG1ldGhvZDpyZXF1ZXN0Lm1ldGhvZCxoZWFk
ZXJzOkFycmF5LmZyb20ocmVxdWVzdC5oZWFkZXJzKSxib2R5OnJlcXVlc3QuYm9keT8/dW5kZWZpbmVkfX0pO2lmKHJlc3BQYXls
b2FkLnNwZWMuYm9keVN0cmVhbSE9bnVsbCl0aHJvdyBuZXcgRXJyb3IoYFRPRE86IHN0cmVhbWApO3JldHVybiBuZXcgUmVzcG9u
c2UocmVzcFBheWxvYWQuc3BlYy5ib2R5fHxudWxsLHtzdGF0dXM6cmVzcFBheWxvYWQuc3BlYy5zdGF0dXMsaGVhZGVyczpuZXcg
SGVhZGVycyhyZXNwUGF5bG9hZC5zcGVjLmhlYWRlcnM/P1tdKX0pfXVzZVZ1ZVN0YXRlKGtleSxpbml0aWFsKXtjb25zb2xlLmxv
ZygiVE9ETzogdXNlVnVlU3RhdGUiLGtleSxpbml0aWFsKTtyZXR1cm4gaW5pdGlhbH1yZXBvcnRSZWFkeSgpe3RoaXMuc2VuZFJw
Yyh7a2luZDoiTGlmZWN5Y2xlIixzcGVjOntzdGFnZToicmVhZHkifX0pfWxhdW5jaEludGVudChpbnRlbnQpe3RoaXMuc2VuZFJw
Yyh7a2luZDoiTGF1bmNoSW50ZW50IixzcGVjOmludGVudH0pfXNlbmRScGMoZGF0YSl7dGhpcy5wb3J0LnBvc3RNZXNzYWdlKGRh
dGEpfXNlbmRScGNGb3JSZXN1bHQoZGF0YSl7Y29uc3QgcHJvbWlzZU51bT10aGlzLm5leHRQcm9taXNlKys7cmV0dXJuIG5ldyBQ
cm9taXNlKChvayxmYWlsKT0+e3RoaXMuc2VuZFJwYyh7Li4uZGF0YSxpZDpwcm9taXNlTnVtfSk7dGhpcy5wcm9taXNlcy5zZXQo
cHJvbWlzZU51bSxbdmFsdWU9Pm9rKHZhbHVlKSxlcnJvcj0+ZmFpbChlcnJvciksXSl9KX1jb25zdHJ1Y3Rvcihwb3J0KXt0aGlz
LnBvcnQ9cG9ydDt0aGlzLm5leHRQcm9taXNlPTA7dGhpcy5wcm9taXNlcz1uZXcgTWFwO3BvcnQuYWRkRXZlbnRMaXN0ZW5lcigi
bWVzc2FnZSIsZXZ0PT50aGlzLmhhbmRsZU1lc3NhZ2UoZXZ0KSk7cG9ydC5zdGFydCgpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVy
KCJlcnJvciIsZXZ0PT50aGlzLmhhbmRsZUVycm9yKGV2dC5lcnJvcikuY2F0Y2goZXJyPT5jb25zb2xlLmVycm9yKGVycikpKTt3
aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidW5oYW5kbGVkcmVqZWN0aW9uIixldnQ9PnRoaXMuaGFuZGxlRXJyb3IoZXZ0LnJlYXNv
bikuY2F0Y2goZXJyPT5jb25zb2xlLmVycm9yKGVycikpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIiwoKT0+dGhp
cy5zZW5kUnBjKHtraW5kOiJMaWZlY3ljbGUiLHNwZWM6e3N0YWdlOiJ1bmxvYWQifX0pKTtmZXRjaFByb3RvY29scy5zZXQoImRp
c3QtYXBwOiIsKGlucHV0LGluaXQpPT50aGlzLmZldGNoKGlucHV0LGluaXQpKX19Z2xvYmFsVGhpcy5EaXN0QXBwPURpc3RBcHA7
ZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2VQb3J0KCl7cmV0dXJuIG5ldyBQcm9taXNlKChvayxyZWplY3QpPT57ZnVuY3Rpb24gaGFu
ZGxlRXZlbnQoZXZlbnQpe2lmKGV2ZW50Lm9yaWdpbiE9PSJ7T1JJR0lOfSIpcmV0dXJuO2lmKHR5cGVvZiBldmVudC5kYXRhIT09
Im9iamVjdCJ8fCFldmVudC5kYXRhKXJldHVybjtpZih0eXBlb2YgZXZlbnQuZGF0YS5wcm90b2NvbCE9PSJzdHJpbmciKXJldHVy
bjt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaGFuZGxlRXZlbnQpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVy
KCJtZXNzYWdlIixzZWNvbmRFdmVudD0+e2lmKHNlY29uZEV2ZW50Lm9yaWdpbiE9PSJ7T1JJR0lOfSIpcmV0dXJuO2NvbnNvbGUu
ZXJyb3IoIlJlY2VpdmVkIGEgc2Vjb25kIHByb3RvY29sIGluaXRpYXRpb24/PyBSZWxvYWRpbmciKTt0cnl7Y29uc3QgZW50aXR5
PXtraW5kOiJMaWZlY3ljbGUiLHNwZWM6e3N0YWdlOiJyZWN5Y2xlIn19O2V2ZW50LnBvcnRzPy5tYXAocG9ydD0+cG9ydC5wb3N0
TWVzc2FnZShlbnRpdHkpKT8/W107aWYocG9ydClyZWplY3QobmV3IEVycm9yKCJSZWNlaXZlZCBwcm90b2NvbCBwYWNrZXQgd2l0
aG91dCBhIHBvcnQiKSl9ZmluYWxseXt3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9fSxmYWxzZSk7aWYoZXZlbnQuZGF0YS5wcm90
b2NvbCE9PSJwcm90b2NvbC5kaXN0LmFwcC92MWFscGhhMSIpcmVqZWN0KG5ldyBFcnJvcigiUmVjZWl2ZWQgdW5leHBlY3RlZCBw
cm90b2NvbCAiK2V2ZW50LmRhdGEucHJvdG9jb2wpKTtjb25zdFtwb3J0XT1ldmVudC5wb3J0cz8/W107aWYoIXBvcnQpcmVqZWN0
KG5ldyBFcnJvcigiUmVjZWl2ZWQgcHJvdG9jb2wgcGFja2V0IHdpdGhvdXQgYSBwb3J0IikpO29rKHBvcnQpfXdpbmRvdy5hZGRF
dmVudExpc3RlbmVyKCJtZXNzYWdlIixoYW5kbGVFdmVudCxmYWxzZSk7d2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7InByb3Rv
Y29sIjoicHJvdG9jb2wuZGlzdC5hcHAvdjFhbHBoYTEifSwiKiIpfSl9Y2xhc3MgQXBpQmluZGluZ01vdW50e2FzeW5jIGZldGNo
KHJlcSxvcHRzKXtyZXR1cm4gYXdhaXQgdGhpcy5kaXN0QXBwLmZldGNoKGAvY2FwLyR7dGhpcy50b2tlbn0vJHtyZXEuc2xpY2Uo
MSl9YCx7Li4ub3B0c30pfWNvbnN0cnVjdG9yKGRpc3RBcHAsYXBpQmluZGluZ05hbWUsdG9rZW4pe3RoaXMuZGlzdEFwcD1kaXN0
QXBwO3RoaXMuYXBpQmluZGluZ05hbWU9YXBpQmluZGluZ05hbWU7dGhpcy50b2tlbj10b2tlbn19Z2xvYmFsVGhpcy5BcGlCaW5k
aW5nTW91bnQ9QXBpQmluZGluZ01vdW50O2V4cG9ydHt9Cgo=
`);
export const iframeEntrypointBlob = new Blob([
  iframeEntrypointText.replace('{ORIGIN}', new URL(Meteor.absoluteUrl()).origin),
], {type: 'text/javascript'});
export const iframeEntrypointUrl = URL.createObjectURL(iframeEntrypointBlob);
