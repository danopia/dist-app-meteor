import { Meteor } from 'meteor/meteor';
export const iframeEntrypointText = atob(`
Y29uc3Qgb3JpZ2luYWxGZXRjaD1nbG9iYWxUaGlzLmZldGNoO2NvbnN0IGZldGNoUHJvdG9jb2xzPW5ldyBNYXA7Z2xvYmFsVGhp
cy5mZXRjaD1hc3luYyhyZXEsb3B0cyk9Pntjb25zdCB1cmw9bmV3IFVSTChyZXEgaW5zdGFuY2VvZiBSZXF1ZXN0P3JlcS51cmw6
cmVxLnRvU3RyaW5nKCkpO2NvbnNvbGUuZGVidWcoImZldGNoIHRvIix1cmwucHJvdG9jb2wpO2NvbnN0IGhhbmRsZXI9ZmV0Y2hQ
cm90b2NvbHMuZ2V0KHVybC5wcm90b2NvbCl8fG9yaWdpbmFsRmV0Y2g7cmV0dXJuIGF3YWl0IGhhbmRsZXIocmVxLG9wdHMpfTtj
bGFzcyBEaXN0QXBwe3N0YXRpYyBhc3luYyBjb25uZWN0KCl7Y29uc3QgcG9ydD1hd2FpdCByZWNlaXZlTWVzc2FnZVBvcnQoKTty
ZXR1cm4gbmV3IERpc3RBcHAocG9ydCl9aGFuZGxlTWVzc2FnZShldnQpe2NvbnN0IGVudGl0eT1ldnQuZGF0YTtpZihlbnRpdHku
a2luZD09IkZldGNoUmVzcG9uc2UiKXtjb25zdCBwYWlyPXRoaXMucHJvbWlzZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIp
e3RoaXMucHJvbWlzZXMuZGVsZXRlKGVudGl0eS5vcmlnSWQpO3BhaXJbMF0oZW50aXR5KTtyZXR1cm59fWlmKGVudGl0eS5raW5k
PT0iRmV0Y2hFcnJvciIpe2NvbnN0IHBhaXIxPXRoaXMucHJvbWlzZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIxKXt0aGlz
LnByb21pc2VzLmRlbGV0ZShlbnRpdHkub3JpZ0lkKTtwYWlyMVsxXShuZXcgRXJyb3IoZW50aXR5LnNwZWMubWVzc2FnZSkpO3Jl
dHVybn19Y29uc29sZS53YXJuKCJUT0RPOiBEaXN0QXBwIHJlY2VpdmVkOiIsZXZ0LmRhdGEpfWFzeW5jIGhhbmRsZUVycm9yKGVy
cil7Y29uc3R7bmFtZSxtZXNzYWdlLHN0YWNrfT1lcnI7dGhpcy5zZW5kUnBjKHtraW5kOiJXcml0ZURlYnVnRXZlbnQiLHNwZWM6
e3RpbWVzdGFtcDpuZXcgRGF0ZSxsZXZlbDoiZXJyb3IiLHRleHQ6YFVuY2F1Z2h0ICR7bmFtZX0gaW4gcGFnZWAsZXJyb3I6e25h
bWUsbWVzc2FnZSxzdGFja319fSl9YXN5bmMgbW91bnRBcGlCaW5kaW5nKGFwaUJpbmRpbmdOYW1lKXtjb25zdCB0b2tlblJlc3A9
YXdhaXQgdGhpcy5mZXRjaChgL0FwaUJpbmRpbmcvJHthcGlCaW5kaW5nTmFtZX0vbW91bnRgLHttZXRob2Q6IlBPU1QifSk7aWYo
IXRva2VuUmVzcC5vayl0aHJvdyBuZXcgRXJyb3IoYEFwaUJpbmRpbmcgTW91bnQgb2YgJHtKU09OLnN0cmluZ2lmeShhcGlCaW5k
aW5nTmFtZSl9IG5vdCBPSzpgK2BIVFRQICR7dG9rZW5SZXNwLnN0YXR1c30gLSAke2F3YWl0IHRva2VuUmVzcC50ZXh0KCl9YCk7
Y29uc3QgdG9rZW49YXdhaXQgdG9rZW5SZXNwLnRleHQoKTtyZXR1cm4gbmV3IEFwaUJpbmRpbmdNb3VudCh0aGlzLGFwaUJpbmRp
bmdOYW1lLHRva2VuKX1hc3luYyBmZXRjaChyZXEsb3B0cyl7aWYodHlwZW9mIHJlcT09InN0cmluZyIpe3JldHVybiBhd2FpdCB0
aGlzLmhhbmRsZUZldGNoKHttZXRob2Q6b3B0cz8ubWV0aG9kfHwiR0VUIix1cmw6cmVxLGhlYWRlcnM6bmV3IEhlYWRlcnMob3B0
cz8uaGVhZGVycyksYm9keTpvcHRzPy5ib2R5IT1udWxsP2F3YWl0IG5ldyBSZXNwb25zZShvcHRzLmJvZHkpLnRleHQoKTpudWxs
fSl9Y29uc3QgcmVxdWVzdD1uZXcgUmVxdWVzdChyZXEsb3B0cyk7cmV0dXJuIGF3YWl0IHRoaXMuaGFuZGxlRmV0Y2goe21ldGhv
ZDpyZXF1ZXN0Lm1ldGhvZCx1cmw6cmVxdWVzdC51cmwsaGVhZGVyczpyZXF1ZXN0LmhlYWRlcnMsYm9keTphd2FpdCByZXF1ZXN0
LnRleHQoKXx8bnVsbH0pfWFzeW5jIGhhbmRsZUZldGNoKHJlcXVlc3Qpe2NvbnN0IHJlc3BQYXlsb2FkPWF3YWl0IHRoaXMuc2Vu
ZFJwY0ZvclJlc3VsdCh7a2luZDoiRmV0Y2hSZXF1ZXN0IixpZDotMSxzcGVjOnt1cmw6cmVxdWVzdC51cmwsbWV0aG9kOnJlcXVl
c3QubWV0aG9kLGhlYWRlcnM6QXJyYXkuZnJvbShyZXF1ZXN0LmhlYWRlcnMpLGJvZHk6cmVxdWVzdC5ib2R5Pz91bmRlZmluZWR9
fSk7aWYocmVzcFBheWxvYWQuc3BlYy5ib2R5U3RyZWFtIT1udWxsKXRocm93IG5ldyBFcnJvcihgVE9ETzogc3RyZWFtYCk7cmV0
dXJuIG5ldyBSZXNwb25zZShyZXNwUGF5bG9hZC5zcGVjLmJvZHl8fG51bGwse3N0YXR1czpyZXNwUGF5bG9hZC5zcGVjLnN0YXR1
cyxoZWFkZXJzOm5ldyBIZWFkZXJzKHJlc3BQYXlsb2FkLnNwZWMuaGVhZGVycz8/W10pfSl9dXNlVnVlU3RhdGUoa2V5LGluaXRp
YWwpe2NvbnNvbGUubG9nKCJUT0RPOiB1c2VWdWVTdGF0ZSIsa2V5LGluaXRpYWwpO3JldHVybiBpbml0aWFsfXJlcG9ydFJlYWR5
KCl7dGhpcy5zZW5kUnBjKHtraW5kOiJMaWZlY3ljbGUiLHNwZWM6e3N0YWdlOiJyZWFkeSJ9fSl9bGF1bmNoSW50ZW50KGludGVu
dCl7dGhpcy5zZW5kUnBjKHtraW5kOiJMYXVuY2hJbnRlbnQiLHNwZWM6aW50ZW50fSl9c2VuZFJwYyhkYXRhKXt0aGlzLnBvcnQu
cG9zdE1lc3NhZ2UoZGF0YSl9c2VuZFJwY0ZvclJlc3VsdChkYXRhKXtjb25zdCBwcm9taXNlTnVtPXRoaXMubmV4dFByb21pc2Ur
KztyZXR1cm4gbmV3IFByb21pc2UoKG9rLGZhaWwpPT57dGhpcy5zZW5kUnBjKHsuLi5kYXRhLGlkOnByb21pc2VOdW19KTt0aGlz
LnByb21pc2VzLnNldChwcm9taXNlTnVtLFt2YWx1ZT0+b2sodmFsdWUpLGVycm9yPT5mYWlsKGVycm9yKSxdKX0pfWNvbnN0cnVj
dG9yKHBvcnQpe3RoaXMucG9ydD1wb3J0O3RoaXMubmV4dFByb21pc2U9MDt0aGlzLnByb21pc2VzPW5ldyBNYXA7cG9ydC5hZGRF
dmVudExpc3RlbmVyKCJtZXNzYWdlIixldnQ9PnRoaXMuaGFuZGxlTWVzc2FnZShldnQpKTtwb3J0LnN0YXJ0KCk7d2luZG93LmFk
ZEV2ZW50TGlzdGVuZXIoImVycm9yIixldnQ9PnRoaXMuaGFuZGxlRXJyb3IoZXZ0LmVycm9yKS5jYXRjaChlcnI9PmNvbnNvbGUu
ZXJyb3IoZXJyKSkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ1bmhhbmRsZWRyZWplY3Rpb24iLGV2dD0+dGhpcy5oYW5kbGVF
cnJvcihldnQucmVhc29uKS5jYXRjaChlcnI9PmNvbnNvbGUuZXJyb3IoZXJyKSkpO2ZldGNoUHJvdG9jb2xzLnNldCgiZGlzdC1h
cHA6IiwoaW5wdXQsaW5pdCk9PnRoaXMuZmV0Y2goaW5wdXQsaW5pdCkpfX1nbG9iYWxUaGlzLkRpc3RBcHA9RGlzdEFwcDtmdW5j
dGlvbiByZWNlaXZlTWVzc2FnZVBvcnQoKXtyZXR1cm4gbmV3IFByb21pc2UoKG9rLHJlamVjdCk9PntmdW5jdGlvbiBoYW5kbGVF
dmVudChldmVudCl7aWYoZXZlbnQub3JpZ2luIT09IntPUklHSU59IilyZXR1cm47aWYodHlwZW9mIGV2ZW50LmRhdGEhPT0ib2Jq
ZWN0Inx8IWV2ZW50LmRhdGEpcmV0dXJuO2lmKHR5cGVvZiBldmVudC5kYXRhLnByb3RvY29sIT09InN0cmluZyIpcmV0dXJuO3dp
bmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixoYW5kbGVFdmVudCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1l
c3NhZ2UiLHNlY29uZEV2ZW50PT57aWYoc2Vjb25kRXZlbnQub3JpZ2luIT09IntPUklHSU59IilyZXR1cm47Y29uc29sZS5lcnJv
cigiUmVjZWl2ZWQgYSBzZWNvbmQgcHJvdG9jb2wgaW5pdGlhdGlvbj8/IFJlbG9hZGluZyIpO3RyeXtjb25zdCBlbnRpdHk9e2tp
bmQ6IkxpZmVjeWNsZSIsc3BlYzp7c3RhZ2U6InJlY3ljbGUifX07ZXZlbnQucG9ydHM/Lm1hcChwb3J0PT5wb3J0LnBvc3RNZXNz
YWdlKGVudGl0eSkpPz9bXTtpZihwb3J0KXJlamVjdChuZXcgRXJyb3IoIlJlY2VpdmVkIHByb3RvY29sIHBhY2tldCB3aXRob3V0
IGEgcG9ydCIpKX1maW5hbGx5e3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX19LGZhbHNlKTtpZihldmVudC5kYXRhLnByb3RvY29s
IT09InByb3RvY29sLmRpc3QuYXBwL3YxYWxwaGExIilyZWplY3QobmV3IEVycm9yKCJSZWNlaXZlZCB1bmV4cGVjdGVkIHByb3Rv
Y29sICIrZXZlbnQuZGF0YS5wcm90b2NvbCkpO2NvbnN0W3BvcnRdPWV2ZW50LnBvcnRzPz9bXTtpZighcG9ydClyZWplY3QobmV3
IEVycm9yKCJSZWNlaXZlZCBwcm90b2NvbCBwYWNrZXQgd2l0aG91dCBhIHBvcnQiKSk7b2socG9ydCl9d2luZG93LmFkZEV2ZW50
TGlzdGVuZXIoIm1lc3NhZ2UiLGhhbmRsZUV2ZW50LGZhbHNlKX0pfWNsYXNzIEFwaUJpbmRpbmdNb3VudHthc3luYyBmZXRjaChy
ZXEsb3B0cyl7Y29uc3QgaGVhZGVycz1uZXcgSGVhZGVycyhvcHRzPy5oZWFkZXJzKTtoZWFkZXJzLmFwcGVuZCgiQXV0aG9yaXph
dGlvbiIsYEJlYXJlciAke3RoaXMudG9rZW59YCk7YXdhaXQgdGhpcy5kaXN0QXBwLmZldGNoKGAvQXBpQmluZGluZy8ke3RoaXMu
YXBpQmluZGluZ05hbWV9LyR7cmVxLnNsaWNlKDEpfWAsey4uLm9wdHMsaGVhZGVyc30pfWNvbnN0cnVjdG9yKGRpc3RBcHAsYXBp
QmluZGluZ05hbWUsdG9rZW4pe3RoaXMuZGlzdEFwcD1kaXN0QXBwO3RoaXMuYXBpQmluZGluZ05hbWU9YXBpQmluZGluZ05hbWU7
dGhpcy50b2tlbj10b2tlbn19ZXhwb3J0e30KCg==
`);
export const iframeEntrypointBlob = new Blob([
  iframeEntrypointText.replace('{ORIGIN}', new URL(Meteor.absoluteUrl()).origin),
], {type: 'text/javascript'});
export const iframeEntrypointUrl = URL.createObjectURL(iframeEntrypointBlob);
