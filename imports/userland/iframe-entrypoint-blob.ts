import { Meteor } from 'meteor/meteor';
export const iframeEntrypointText = atob(`
Y29uc3Qgb3JpZ2luYWxGZXRjaD1nbG9iYWxUaGlzLmZldGNoO2NvbnN0IGZldGNoUHJvdG9jb2xzPW5ldyBNYXA7Z2xvYmFsVGhp
cy5mZXRjaD1hc3luYyhyZXEsb3B0cyk9Pntjb25zdCB1cmw9bmV3IFVSTChyZXEgaW5zdGFuY2VvZiBSZXF1ZXN0P3JlcS51cmw6
cmVxLnRvU3RyaW5nKCkpO2NvbnNvbGUuZGVidWcoImZldGNoIHRvIix1cmwucHJvdG9jb2wpO2NvbnN0IGhhbmRsZXI9ZmV0Y2hQ
cm90b2NvbHMuZ2V0KHVybC5wcm90b2NvbCl8fG9yaWdpbmFsRmV0Y2g7cmV0dXJuIGF3YWl0IGhhbmRsZXIocmVxLG9wdHMpfTtj
b25zdCBTZXNzaW9uSWQ9Y3J5cHRvLnJhbmRvbVVVSUQoKTtjbGFzcyBEaXN0QXBwe3N0YXRpYyBhc3luYyBjb25uZWN0KCl7Y29u
c3QgcG9ydD1hd2FpdCByZWNlaXZlTWVzc2FnZVBvcnQoKTtyZXR1cm4gbmV3IERpc3RBcHAocG9ydCl9aGFuZGxlTWVzc2FnZShl
dnQpe2NvbnN0IGVudGl0eT1ldnQuZGF0YTtpZihlbnRpdHkua2luZD09IkZldGNoUmVzcG9uc2UiKXtjb25zdCBwYWlyPXRoaXMu
cHJvbWlzZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIpe3RoaXMucHJvbWlzZXMuZGVsZXRlKGVudGl0eS5vcmlnSWQpO3Bh
aXJbMF0oZW50aXR5KTtyZXR1cm59fWlmKGVudGl0eS5raW5kPT0iRmV0Y2hFcnJvciIpe2NvbnN0IHBhaXIxPXRoaXMucHJvbWlz
ZXMuZ2V0KGVudGl0eS5vcmlnSWQpO2lmKHBhaXIxKXt0aGlzLnByb21pc2VzLmRlbGV0ZShlbnRpdHkub3JpZ0lkKTtwYWlyMVsx
XShuZXcgRXJyb3IoZW50aXR5LnNwZWMubWVzc2FnZSkpO3JldHVybn19Y29uc29sZS53YXJuKCJUT0RPOiBEaXN0QXBwIHJlY2Vp
dmVkOiIsZXZ0LmRhdGEpfWFzeW5jIGhhbmRsZUVycm9yKGVycil7YXdhaXQgdGhpcy5mZXRjaCgiL3N5c3RlbS1hcGkvdGVsZW1l
dHJ5LnYxYWxwaGExLmRpc3QuYXBwL290bHAiLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoeyJyZXNvdXJjZUxv
Z3MiOlt7InJlc291cmNlIjp7ImF0dHJpYnV0ZXMiOlt7ImtleSI6InNlcnZpY2UubmFtZSIsInZhbHVlIjp7InN0cmluZ1ZhbHVl
IjoiZGlzdC5hcHAtdXNlcmxhbmQifX0seyJrZXkiOiJzZXNzaW9uLmlkIiwidmFsdWUiOnsic3RyaW5nVmFsdWUiOlNlc3Npb25J
ZH19LF19LCJzY29wZUxvZ3MiOlt7InNjb3BlIjp7fSwibG9nUmVjb3JkcyI6W3sidGltZVVuaXhOYW5vIjpgJHtEYXRlLm5vdygp
fTAwMDAwMGAsInNldmVyaXR5TnVtYmVyIjo5LCJzZXZlcml0eVRleHQiOiJJbmZvIiwibmFtZSI6IlVuY2F1Z2h0RXJyb3IiLCJi
b2R5Ijp7InN0cmluZ1ZhbHVlIjpgVW5jYXVnaHQgJHtlcnIubmFtZX0gaW4gcGFnZWAsImF0dHJpYnV0ZXMiOlt7ImtleSI6ImVy
cm9yLm1lc3NhZ2UiLCJ2YWx1ZSI6eyJzdHJpbmdWYWx1ZSI6ZXJyLm1lc3NhZ2V9fSx7ImtleSI6ImVycm9yLm5hbWUiLCJ2YWx1
ZSI6eyJzdHJpbmdWYWx1ZSI6ZXJyLm5hbWV9fSx7ImtleSI6ImVycm9yLnN0YWNrIiwidmFsdWUiOnsic3RyaW5nVmFsdWUiOmVy
ci5zdGFja319LF19fV19XX1dfSl9KX1hc3luYyBtb3VudEFwaUJpbmRpbmcoYXBpQmluZGluZ05hbWUpe2NvbnN0IHRva2VuUmVz
cD1hd2FpdCB0aGlzLmZldGNoKGAvQXBpQmluZGluZy8ke2FwaUJpbmRpbmdOYW1lfS9tb3VudGAse21ldGhvZDoiUE9TVCJ9KTtp
Zih0b2tlblJlc3Auc3RhdHVzPT00MDMpcmV0dXJuIG51bGw7aWYoIXRva2VuUmVzcC5vayl0aHJvdyBuZXcgRXJyb3IoYEFwaUJp
bmRpbmcgTW91bnQgb2YgJHtKU09OLnN0cmluZ2lmeShhcGlCaW5kaW5nTmFtZSl9IG5vdCBPSyBgK2AoSFRUUCAke3Rva2VuUmVz
cC5zdGF0dXN9KQoKYCtgVXBzdHJlYW0gcmVzcG9uc2UgYm9keToKJHthd2FpdCB0b2tlblJlc3AudGV4dCgpfWApO2NvbnN0IHRv
a2VuPWF3YWl0IHRva2VuUmVzcC50ZXh0KCk7Y29uc29sZS5sb2coe3Rva2VufSk7cmV0dXJuIHRva2VufWFzeW5jIGZldGNoKHJl
cSxvcHRzKXtpZih0eXBlb2YgcmVxPT0ic3RyaW5nIil7cmV0dXJuIGF3YWl0IHRoaXMuaGFuZGxlRmV0Y2goe21ldGhvZDpvcHRz
Py5tZXRob2R8fCJHRVQiLHVybDpyZXEsaGVhZGVyczpuZXcgSGVhZGVycyhvcHRzPy5oZWFkZXJzKSxib2R5Om9wdHM/LmJvZHkh
PW51bGw/YXdhaXQgbmV3IFJlc3BvbnNlKG9wdHMuYm9keSkudGV4dCgpOm51bGx9KX1jb25zdCByZXF1ZXN0PW5ldyBSZXF1ZXN0
KHJlcSxvcHRzKTtyZXR1cm4gYXdhaXQgdGhpcy5oYW5kbGVGZXRjaCh7bWV0aG9kOnJlcXVlc3QubWV0aG9kLHVybDpyZXF1ZXN0
LnVybCxoZWFkZXJzOnJlcXVlc3QuaGVhZGVycyxib2R5OmF3YWl0IHJlcXVlc3QudGV4dCgpfHxudWxsfSl9YXN5bmMgaGFuZGxl
RmV0Y2gocmVxdWVzdCl7Y29uc3QgcmVzcFBheWxvYWQ9YXdhaXQgdGhpcy5zZW5kUnBjRm9yUmVzdWx0KHtraW5kOiJGZXRjaFJl
cXVlc3QiLGlkOi0xLHNwZWM6e3VybDpyZXF1ZXN0LnVybCxtZXRob2Q6cmVxdWVzdC5tZXRob2QsaGVhZGVyczpBcnJheS5mcm9t
KHJlcXVlc3QuaGVhZGVycyksYm9keTpyZXF1ZXN0LmJvZHk/P3VuZGVmaW5lZH19KTtpZihyZXNwUGF5bG9hZC5zcGVjLmJvZHlT
dHJlYW0hPW51bGwpdGhyb3cgbmV3IEVycm9yKGBUT0RPOiBzdHJlYW1gKTtyZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BQYXlsb2Fk
LnNwZWMuYm9keXx8bnVsbCx7c3RhdHVzOnJlc3BQYXlsb2FkLnNwZWMuc3RhdHVzLGhlYWRlcnM6bmV3IEhlYWRlcnMocmVzcFBh
eWxvYWQuc3BlYy5oZWFkZXJzPz9bXSl9KX11c2VWdWVTdGF0ZShrZXksaW5pdGlhbCl7Y29uc29sZS5sb2coIlRPRE86IHVzZVZ1
ZVN0YXRlIixrZXksaW5pdGlhbCk7cmV0dXJuIGluaXRpYWx9cmVwb3J0UmVhZHkoKXt0aGlzLnNlbmRScGMoe2tpbmQ6IkxpZmVj
eWNsZSIsc3BlYzp7c3RhZ2U6InJlYWR5In19KX1sYXVuY2hJbnRlbnQoaW50ZW50KXt0aGlzLnNlbmRScGMoe2tpbmQ6IkxhdW5j
aEludGVudCIsc3BlYzppbnRlbnR9KX1zZW5kUnBjKGRhdGEpe3RoaXMucG9ydC5wb3N0TWVzc2FnZShkYXRhKX1zZW5kUnBjRm9y
UmVzdWx0KGRhdGEpe2NvbnN0IHByb21pc2VOdW09dGhpcy5uZXh0UHJvbWlzZSsrO3JldHVybiBuZXcgUHJvbWlzZSgob2ssZmFp
bCk9Pnt0aGlzLnNlbmRScGMoey4uLmRhdGEsaWQ6cHJvbWlzZU51bX0pO3RoaXMucHJvbWlzZXMuc2V0KHByb21pc2VOdW0sW3Zh
bHVlPT5vayh2YWx1ZSksZXJyb3I9PmZhaWwoZXJyb3IpLF0pfSl9Y29uc3RydWN0b3IocG9ydCl7dGhpcy5wb3J0PXBvcnQ7dGhp
cy5uZXh0UHJvbWlzZT0wO3RoaXMucHJvbWlzZXM9bmV3IE1hcDtwb3J0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGV2dD0+
dGhpcy5oYW5kbGVNZXNzYWdlKGV2dCkpO3BvcnQuc3RhcnQoKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGV2dD0+
dGhpcy5oYW5kbGVFcnJvcihldnQuZXJyb3IpLmNhdGNoKGVycj0+Y29uc29sZS5lcnJvcihlcnIpKSk7d2luZG93LmFkZEV2ZW50
TGlzdGVuZXIoInVuaGFuZGxlZHJlamVjdGlvbiIsZXZ0PT50aGlzLmhhbmRsZUVycm9yKGV2dC5yZWFzb24pLmNhdGNoKGVycj0+
Y29uc29sZS5lcnJvcihlcnIpKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsKCk9PnRoaXMuc2VuZFJwYyh7a2lu
ZDoiTGlmZWN5Y2xlIixzcGVjOntzdGFnZToidW5sb2FkIn19KSk7ZmV0Y2hQcm90b2NvbHMuc2V0KCJkaXN0LWFwcDoiLChpbnB1
dCxpbml0KT0+dGhpcy5mZXRjaChpbnB1dCxpbml0KSl9fWdsb2JhbFRoaXMuRGlzdEFwcD1EaXN0QXBwO2Z1bmN0aW9uIHJlY2Vp
dmVNZXNzYWdlUG9ydCgpe3JldHVybiBuZXcgUHJvbWlzZSgob2sscmVqZWN0KT0+e2Z1bmN0aW9uIGhhbmRsZUV2ZW50KGV2ZW50
KXtpZihldmVudC5vcmlnaW4hPT0ie09SSUdJTn0iKXJldHVybjtpZih0eXBlb2YgZXZlbnQuZGF0YSE9PSJvYmplY3QifHwhZXZl
bnQuZGF0YSlyZXR1cm47aWYodHlwZW9mIGV2ZW50LmRhdGEucHJvdG9jb2whPT0ic3RyaW5nIilyZXR1cm47d2luZG93LnJlbW92
ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGhhbmRsZUV2ZW50KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsc2Vj
b25kRXZlbnQ9PntpZihzZWNvbmRFdmVudC5vcmlnaW4hPT0ie09SSUdJTn0iKXJldHVybjtjb25zb2xlLmVycm9yKCJSZWNlaXZl
ZCBhIHNlY29uZCBwcm90b2NvbCBpbml0aWF0aW9uPz8gUmVsb2FkaW5nIik7dHJ5e2NvbnN0IGVudGl0eT17a2luZDoiTGlmZWN5
Y2xlIixzcGVjOntzdGFnZToicmVjeWNsZSJ9fTtldmVudC5wb3J0cz8ubWFwKHBvcnQ9PnBvcnQucG9zdE1lc3NhZ2UoZW50aXR5
KSk/P1tdO2lmKHBvcnQpcmVqZWN0KG5ldyBFcnJvcigiUmVjZWl2ZWQgcHJvdG9jb2wgcGFja2V0IHdpdGhvdXQgYSBwb3J0Iikp
fWZpbmFsbHl7d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfX0sZmFsc2UpO2lmKGV2ZW50LmRhdGEucHJvdG9jb2whPT0icHJvdG9j
b2wuZGlzdC5hcHAvdjFhbHBoYTEiKXJlamVjdChuZXcgRXJyb3IoIlJlY2VpdmVkIHVuZXhwZWN0ZWQgcHJvdG9jb2wgIitldmVu
dC5kYXRhLnByb3RvY29sKSk7Y29uc3RbcG9ydF09ZXZlbnQucG9ydHM/P1tdO2lmKCFwb3J0KXJlamVjdChuZXcgRXJyb3IoIlJl
Y2VpdmVkIHByb3RvY29sIHBhY2tldCB3aXRob3V0IGEgcG9ydCIpKTtvayhwb3J0KX13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigi
bWVzc2FnZSIsaGFuZGxlRXZlbnQsZmFsc2UpO3dpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoeyJwcm90b2NvbCI6InByb3RvY29s
LmRpc3QuYXBwL3YxYWxwaGExIn0sIioiKX0pfWNsYXNzIEFwaUJpbmRpbmdNb3VudHthc3luYyBmZXRjaChyZXEsb3B0cyl7Y29u
c3QgYXBpUGF0aD1yZXEuc3RhcnRzV2l0aCgiLyIpP3JlcS5zbGljZSgxKTooKCk9Pntjb25zdCB1cmw9bmV3IFVSTChyZXEpO3Jl
dHVybiB1cmwucGF0aG5hbWUuc2xpY2UoMSkrdXJsLnNlYXJjaCt1cmwuaGFzaH0pKCk7cmV0dXJuIGF3YWl0IHRoaXMuZGlzdEFw
cC5mZXRjaChgL2NhcC8ke3RoaXMudG9rZW59LyR7YXBpUGF0aH1gLHsuLi5vcHRzfSl9Y29uc3RydWN0b3IoZGlzdEFwcCxhcGlC
aW5kaW5nTmFtZSx0b2tlbil7dGhpcy5kaXN0QXBwPWRpc3RBcHA7dGhpcy5hcGlCaW5kaW5nTmFtZT1hcGlCaW5kaW5nTmFtZTt0
aGlzLnRva2VuPXRva2VufX1nbG9iYWxUaGlzLkFwaUJpbmRpbmdNb3VudD1BcGlCaW5kaW5nTW91bnQ7ZXhwb3J0e30KCg==
`);
export const iframeEntrypointBlob = new Blob([
  iframeEntrypointText.replace('{ORIGIN}', new URL(Meteor.absoluteUrl()).origin),
], {type: 'text/javascript'});
export const iframeEntrypointUrl = URL.createObjectURL(iframeEntrypointBlob);
